{"version":3,"sources":["assets/uci-nlp-logo.svg","assets/ai2-logo.svg","components/Home.js","components/HighlightContainer.js","components/Explore.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Footer","React","Component","react_default","a","createElement","className","href","Home","Container_default","role","Jumbotron_default","ButtonToolbar_default","react_router_dom","to","Row_default","Col_default","md","rel","alt","src","Home_Footer","HighlightContainer","_this$props","this","props","children","isClicking","layout","containerClasses","concat","StorySpan","span","onMouseOver","activeIds","text","source","id","idx","conditionalClasses","WIKI","color","NEL","COREF","KG","includes","target","TopNav","_this$props2","next","prev","Navbar_default","fixed","bg","ButtonGroup_default","Button_default","variant","onClick","InfoBox","Brand","Collapse","Text","parent_id","relation","_Explore","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","activeSpan","activeAnnotationIdx","handleHover","bind","assertThisInitialized","prevCallback","nextCallback","setState","parent_idx","data","length","_this2","_this$state","spans","tokens","annotations","forEach","sentence","i","word","j","push","mergeBackward","annotation","inside","prevSpan","out","last","transform","Explore_TopNav","HighlightContainer_HighlightContainer","map","Explore_StorySpan","key","spanWrapper","Explore_InfoBox","Explore","withRouter","App","basename","react_router","exact","path","component","ReactDOM","render","src_App","document","getElementById"],"mappings":"kl0tJAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,gcC8DlCC,GA5BgBC,IAAMC,2LA8BpB,OACIC,EAAAC,EAAAC,cAAA,UAAQC,UAAU,aACdH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,sDAEIF,EAAAC,EAAAC,cAAA,KAAGE,KAAK,8BAAR,YAFJ,aALKN,IAAMC,YAyFZM,mLAxEP,OACIL,EAAAC,EAAAC,cAACI,EAAAL,EAAD,KACID,EAAAC,EAAAC,cAAA,QAAMK,KAAK,QACPP,EAAAC,EAAAC,cAACM,EAAAP,EAAD,KACID,EAAAC,EAAAC,cAACI,EAAAL,EAAD,KACID,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAd,qBAGAH,EAAAC,EAAAC,cAAA,SA1DX,iTA0DW,wCAEyCF,EAAAC,EAAAC,cAAA,KAAGE,KAAK,uDAAR,SAFzC,KAIAJ,EAAAC,EAAAC,cAACO,EAAAR,EAAD,KACID,EAAAC,EAAAC,cAAA,KAAGC,UAAU,yBAAyBC,KAAK,mEAA3C,YACAJ,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CAAMP,UAAU,yBAAyBQ,GAAG,YAA5C,cAKZX,EAAAC,EAAAC,cAACI,EAAAL,EAAD,KACID,EAAAC,EAAAC,cAACU,EAAAX,EAAD,KACID,EAAAC,EAAAC,cAACW,EAAAZ,EAAD,CAAKa,GAAI,GACLd,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,uFAGAF,EAAAC,EAAAC,cAAA,SACIF,EAAAC,EAAAC,cAAA,KAAGE,KAAK,uBAAR,kBADJ,oEAGAJ,EAAAC,EAAAC,cAAA,SACIF,EAAAC,EAAAC,cAAA,KAAGE,KAAK,YAAR,gBADJ,sBAC0DJ,EAAAC,EAAAC,cAAA,KAAGE,KAAK,4CAAR,aAD1D,oCAGAJ,EAAAC,EAAAC,cAAA,qDAC6CF,EAAAC,EAAAC,cAAA,KAAGE,KAAK,6BAAR,aAD7C,QACmGJ,EAAAC,EAAAC,cAAA,KAAGE,KAAK,4BAAR,YADnG,+CAIJJ,EAAAC,EAAAC,cAACW,EAAAZ,EAAD,CAAKa,GAAI,GACLd,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,8DAGAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,YA1GpB,8iBA+GgBF,EAAAC,EAAAC,cAACW,EAAAZ,EAAD,CAAKa,GAAI,GACLd,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,oEAEAF,EAAAC,EAAAC,cAAA,KAAGa,IAAI,UAAUX,KAAK,qDAAtB,gBAFA,aAIAJ,EAAAC,EAAAC,cAAA,yFAEAF,EAAAC,EAAAC,cAAA,KAAGE,KAAK,yFAAR,sBAFA,qDAMAJ,EAAAC,EAAAC,cAAA,KAAGa,IAAI,UAAUX,KAAK,qDACtBJ,EAAAC,EAAAC,cAAA,OAAKc,IAAI,2BAA2BC,IAAI,+DAKxDjB,EAAAC,EAAAC,cAACgB,EAAD,eAnEGpB,IAAMC,sECxEJoB,0LACV,IAAAC,EAKHC,KAAKC,MAHPC,EAFKH,EAELG,SACAC,EAHKJ,EAGLI,WACAC,EAJKL,EAILK,OAGIC,EAAgB,4EAAAC,OAGlBF,EAAS,wBAA0BA,EAAS,GAH1B,YAAAE,OAIlBH,EAAa,WAAa,IAE9B,OACExB,EAAAC,EAAAC,cAAA,OAAKC,UAAWuB,GACbH,UAhBuCzB,IAAMC,sCCiEhD6B,mLAEM,IAAAR,EACiCC,KAAKC,MAAtCO,EADAT,EACAS,KAAMC,EADNV,EACMU,YAAaC,EADnBX,EACmBW,UACnBC,EAA0BH,EAA1BG,KAAMC,EAAoBJ,EAApBI,OAAQC,EAAYL,EAAZK,GAAIC,EAAQN,EAARM,IASpBC,EAAkB,oBAAAT,OAPH,CACnBU,KAAQ,CAAEC,MAAO,QACjBC,IAAO,CAAED,MAAO,SAChBE,MAAS,CAAEF,MAAO,UAClBG,GAAM,CAAEH,MAAO,YAIAL,GAAQK,MADD,YAAAX,OAEpBI,GAAaA,EAAUW,SAASP,GAAO,SAAW,IAEtD,OACEnC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,KAAGE,KAAM,6BAA+B8B,EAAG,GAAIS,OAAO,SAAS5B,IAAI,uBACjEf,EAAAC,EAAAC,cAAA,QAAMC,UAAWiC,EACbN,YAAcA,EAAc,WAAQA,EAAYD,IAAU,MAC5D7B,EAAAC,EAAAC,cAAA,QAAMC,UAAU,sBAAsB6B,GACtChC,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAmBH,EAAAC,EAAAC,cAAA,cAAS+B,IAC5CjC,EAAAC,EAAAC,cAAA,QAAMC,UAAU,sBAAsB+B,EAAG,cAxB7BpC,IAAMC,WAiCxB6C,mLACM,IAAAC,EACgBxB,KAAKC,MAArBwB,EADAD,EACAC,KAAMC,EADNF,EACME,KACd,OACE/C,EAAAC,EAAAC,cAAC8C,EAAA/C,EAAD,CAAQgD,MAAM,MAAMC,GAAG,QAAQ/C,UAAU,sBACrCH,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,KACED,EAAAC,EAAAC,cAACkD,EAAAnD,EAAD,CAAQoD,QAAQ,oBAAoBC,QAASP,GAA7C,QACA/C,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CAAMP,UAAU,4BAA4BQ,GAAG,KAA/C,QACAX,EAAAC,EAAAC,cAACkD,EAAAnD,EAAD,CAAQoD,QAAQ,oBAAoBC,QAASR,GAA7C,iBARShD,IAAMC,WAgBrBwD,mLACM,IACA1B,EAASR,KAAKC,MAAdO,KACR,OAAKA,EAED7B,EAAAC,EAAAC,cAAC8C,EAAA/C,EAAD,CAAQgD,MAAM,SAASC,GAAG,QAAQ/C,UAAU,cAC1CH,EAAAC,EAAAC,cAAC8C,EAAA/C,EAAOuD,MAAR,0BACAxD,EAAAC,EAAAC,cAAC8C,EAAA/C,EAAOwD,SAAR,KACEzD,EAAAC,EAAAC,cAAC8C,EAAA/C,EAAOyD,KAAR,KAAa1D,EAAAC,EAAAC,cAAA,wBAAmB2B,EAAK8B,UAAU,GAA/C,IAAoD9B,EAAK8B,UAAU,GAAnE,SACA3D,EAAAC,EAAAC,cAAC8C,EAAA/C,EAAOyD,KAAR,KAAa1D,EAAAC,EAAAC,cAAA,uBAAkB2B,EAAK+B,SAAS,GAA7C,IAAkD/B,EAAK+B,SAAS,GAAhE,SACA5D,EAAAC,EAAAC,cAAC8C,EAAA/C,EAAOyD,KAAR,KAAa1D,EAAAC,EAAAC,cAAA,gBAAW2B,EAAKK,GAAG,GAAhC,IAAqCL,EAAKK,GAAG,GAA7C,OAKD,YAfWpC,IAAMC,WAoBtB8D,cACJ,SAAAA,IAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA1C,KAAAwC,IACZC,EAAAC,OAAAE,EAAA,EAAAF,CAAA1C,KAAA0C,OAAAG,EAAA,EAAAH,CAAAF,GAAAM,KAAA9C,QAEK+C,MAAQ,CACXC,WAAY,KACZtC,UAAW,KACXuC,oBAAqB,GAGvBR,EAAKS,YAAcT,EAAKS,YAAYC,KAAjBT,OAAAU,EAAA,EAAAV,CAAAD,IACnBA,EAAKY,aAAeZ,EAAKY,aAAaF,KAAlBT,OAAAU,EAAA,EAAAV,CAAAD,IACpBA,EAAKa,aAAeb,EAAKa,aAAaH,KAAlBT,OAAAU,EAAA,EAAAV,CAAAD,IAXRA,2EAcFjC,GACVR,KAAKuD,SAAS,CACZP,WAAYxC,EACZE,UAAW,CAACF,EAAKM,IAAKN,EAAKgD,qDAIhB,IACLP,EAAwBjD,KAAK+C,MAA7BE,oBACJA,EAAsB,GACxBjD,KAAKuD,SAAS,CAAEN,oBAAqBA,EAAsB,2CAIhD,IACLA,EAAwBjD,KAAK+C,MAA7BE,oBACJA,EAAsBQ,EAAKC,QAC7B1D,KAAKuD,SAAS,CAAEN,oBAAqBA,EAAsB,qCAIrD,IAAAU,EAAA3D,KAAA4D,EAE+C5D,KAAK+C,MAApDC,EAFAY,EAEAZ,WAAYtC,EAFZkD,EAEYlD,UAAWuC,EAFvBW,EAEuBX,oBAiBzBY,EAlLV,SAAmBC,EAAQC,GACzB,IAAIF,EAAQ,GAGZC,EAAOE,QAAQ,SAACC,EAAUC,GACxBD,EAASD,QAAQ,SAACG,EAAMC,GACtBP,EAAMQ,KAAK,CACT1D,KAAMwD,EACNtD,GAAI,KACJ0B,SAAU,KACVD,UAAW,KACX1B,OAAQ,KACR0D,eAAe,QAMrBP,EAAYC,QAAQ,SAACO,EAAYL,GAE/B,IADA,IAAIM,GAAS,EACJJ,EAAEG,EAAW/D,KAAK,GAAI4D,EAAEG,EAAW/D,KAAK,GAAI4D,IACnDP,EAAMO,GAAGvD,GAAK0D,EAAW1D,GACzBgD,EAAMO,GAAG7B,SAAWgC,EAAWhC,SAC/BsB,EAAMO,GAAG9B,UAAYiC,EAAWjC,UAChCuB,EAAMO,GAAGxD,OAAS2D,EAAW3D,OACxB4D,IACHX,EAAMO,GAAGE,eAAgB,GAE3BE,GAAS,IAKb,IACIC,EADAC,EAAM,GAEVb,EAAMG,QAAQ,SAACxD,EAAM0D,GACd1D,EAAK8D,cACRG,EAAS9D,KAAQ8D,EAAS9D,KAAO,IAAMH,EAAKG,MAE5C+D,EAAIL,KAAK7D,GACTiE,EAAWjE,KAIf,IAAImE,EAAO,GAMX,OALAd,EAAMG,QAAQ,SAACxD,EAAM0D,GACnB1D,EAAKM,IAAMoD,EACX1D,EAAKgD,WAAamB,EAAKnE,EAAK8B,WAC5BqC,EAAKnE,EAAKK,IAAMqD,IAEXQ,EAgISE,CAbCnB,EAAKR,GAAqBa,OACrBL,EAAKR,GAAqBc,aAa9C,OACEpF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACI,EAAAL,EAAD,KACAD,EAAAC,EAAAC,cAACgG,EAAD,CAAQnD,KAAM1B,KAAKqD,aAAc5B,KAAMzB,KAAKsD,eAC5C3E,EAAAC,EAAAC,cAACiG,EAAD,CAAoB1E,OAAO,iBAfX,SAACyD,GACnB,OAAOA,EAAMkB,IAAI,SAACvE,EAAM0D,GAAP,OACf1D,EAAKK,GACHlC,EAAAC,EAAAC,cAACmG,EAAD,CAAWC,IAAKf,EAAG1D,KAAMA,EAAME,UAAWA,EAAWD,YAAakD,EAAKT,cAEvEvE,EAAAC,EAAAC,cAAA,QAAMoG,IAAKf,GAAI1D,EAAKG,KAApB,OAWCuE,CAAYrB,IAEflF,EAAAC,EAAAC,cAACsG,EAAD,CAAS3E,KAAMwC,aA/DAvE,IAAMC,WAwEd0G,EAFCC,YAAW7C,GClMZ8C,EARH,kBACR3G,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CAAQkG,SAAS,KACb5G,EAAAC,EAAAC,cAAC2G,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAW3G,IACjCL,EAAAC,EAAAC,cAAC2G,EAAA,EAAD,CAAOE,KAAK,WAAWC,UAAWP,MCN1CQ,IAASC,OAAOlH,EAAAC,EAAAC,cAACiH,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.ebe5b604.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/uci-nlp-logo.1b75c2c9.svg\";","module.exports = __webpack_public_path__ + \"static/media/ai2-logo.bc8385ee.svg\";","import React from 'react';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport Card from 'react-bootstrap/Card';\nimport CardGroup from 'react-bootstrap/CardGroup';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Row from 'react-bootstrap/Row';\nimport { Link } from 'react-router-dom';\n\nimport '../css/Home.css';\n\nimport uciLogo from '../assets/uci-nlp-logo.svg';\nimport ai2Logo from '../assets/ai2-logo.svg';\n\nconst bibtex = `@inproceedings{rlogan2019kglm,\n    name = \"Barack's Wife {H}illary: Using Knowledge Graphs for Fact-Aware Language Modeling\",\n    author = \"Logan, IV, Robert L.  and\n        Liu, Nelson F.  and\n        Peters, Matthew E.  and\n        Gardner, Matt  and\n        Singh, Sameer\",\n    booktitle = \"Proceedings of the 57th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)\",\n    month = jul,\n    year = \"2019\",\n    address = \"Florence, Italy\",\n    publisher = \"Association for Computational Linguistics\",\n}`\n\nconst description = `\nThe Linked Wikitext-2 language modeling dataset contains over 2 million tokens from Wikipedia articles, along with annotations linking mentions to their corresponding entities and relations in Wikidata.\nIt is designed to match as closely as possible the contents of the popular WikiText-2 dataset.\n`\n\nclass Credits extends React.Component {\n    render() {\n        return (\n            <CardGroup>\n                <Card>\n                    <Card.Img variant=\"top\" src={uciLogo}/>\n                    <Card.Body>\n                        <Card.Title>UCI NLP</Card.Title>\n                        <Card.Text>\n                            Description of UCI NLP.\n                        </Card.Text>\n\n                    </Card.Body>\n                </Card>\n                <Card>\n                    <Card.Img variant=\"top\" src={ai2Logo}/>\n                    <Card.Body>\n                        <Card.Title>The Allen Institute for Artificial Intelligence</Card.Title>\n                        <Card.Text>\n                            Description of AI2.\n                        </Card.Text>\n                    </Card.Body>\n                </Card>\n            </CardGroup>\n        )\n    }\n}\n\nclass Footer extends React.Component {\n    render () {\n        return (\n            <footer className=\"container\">\n                <hr/>\n                <p>\n                    This site is created and maintained by&nbsp;\n                    <a href=\"https://rloganiv.github.io\">rloganiv</a>.\n                </p>\n            </footer>\n        )\n    }\n}\n\n\nclass Home extends React.Component {\n    render () {\n        return (\n            <Container>\n                <main role=\"main\">\n                    <Jumbotron>\n                        <Container>\n                            <h1 className=\"display-3\">\n                                Linked WikiText-2\n                            </h1>\n                            <p>\n                                {description}\n                                For more details please refer to our <a href=\"https://rloganiv.github.io/assets/projects/kglm.pdf\">paper</a>.\n                            </p>\n                            <ButtonToolbar>\n                                <a className=\"btn btn-primary btn-lg\" href=\"https://rlogan.s3.us-east-2.amazonaws.com/linked-wikitext-2.zip\">Download</a>\n                                <Link className=\"btn btn-primary btn-lg\" to=\"/explore\">Explore</Link>\n                            </ButtonToolbar>\n                            {/* <Credits/> */}\n                        </Container>\n                    </Jumbotron>\n                    <Container>\n                        <Row>\n                            <Col md={4}>\n                                <h2>Acknowledgements</h2>\n                                <p>\n                                We would like to thank the following people for making this work possible:\n                                </p>\n                                <p>\n                                    <a href=\"https://smerity.com\">Stephen Merity</a> for sharing the scripts used to collect the Wikitext-2 dataset.\n                                </p>\n                                <p>\n                                    <a href=\"https://\">Nitish Gupta</a> for modifying his <a href=\"https://github.com/nitishgupta/neural-el\">neural-el</a> code to easily run on our data.\n                                </p>\n                                <p>\n                                    The numerous contributors that have made <a href=\"https://www.wikipedia.org\">Wikipedia</a> and <a href=\"https://www.wikidata.org\">Wikidata</a> such fantastic repositories of knowledge.\n                                </p>\n                            </Col>\n                            <Col md={4}>\n                                <h2>Citation</h2>\n                                <p>\n                                If you use this dataset in your work please cite:\n                                </p>\n                                <pre>\n                                <code>\n                                    { bibtex }\n                                </code>\n                                </pre>\n                            </Col>\n                            <Col md={4}>\n                                <h2>License</h2>\n                                <p>\n                                The Linked WikiText-2 Dataset is distributed under a&nbsp;\n                                <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/3.0/us/\">CC-BY-SA-3.0</a> license.\n                                </p>\n                                <p>\n                                The Linked WikiText-2 Dataset is derivative work of Saleforce Research's &nbsp;\n                                <a href=\"https://blog.einstein.ai/the-wikitext-long-term-dependency-language-modeling-dataset/\">WikiText-2 Dataset</a>\n                                &nbsp;\n                                which is distributed under the same license.\n                                </p>\n                                <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/3.0/us/\">\n                                <img alt=\"Creative Commons License\" src=\"https://i.creativecommons.org/l/by-sa/3.0/us/88x31.png\" />\n                                </a>\n                            </Col>\n                        </Row>\n                    </Container>\n                <Footer/>\n                </main>\n            </Container>\n        )\n    }\n}\n\nexport default Home;","// Source: https://github.com/allenai/allennlp-demo\n\nimport React from 'react';\nimport '../css/HighlightContainer.css';\n\nexport default class HighlightContainer extends React.Component {\n  render() {\n    const {         // All fields optional:\n      children,       // object | string\n      isClicking,     // boolean\n      layout          // string (supported values: \"bottom-labels\", null)\n    } = this.props;\n\n    const containerClasses = `passage\n      model__content__summary\n      highlight-container\n      ${layout ? \"highlight-container--\" + layout : \"\"}\n      ${isClicking ? \"clicking\" : \"\"}`;\n\n    return (\n      <div className={containerClasses}>\n        {children}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Container from 'react-bootstrap/Container';\nimport Navbar from 'react-bootstrap/Navbar';\nimport { Link } from 'react-router-dom';\n\nimport HighlightContainer from './HighlightContainer.js';\n\nimport '../css/Highlight.css';\nimport '../css/StoryComponent.css';\n\nimport data from '../assets/data.json';\n\n\nfunction transform(tokens, annotations){\n  let spans = [];\n\n  // First add all of the tokens as plain spans\n  tokens.forEach((sentence, i) => {\n    sentence.forEach((word, j) => {\n      spans.push({\n        text: word,\n        id: null,\n        relation: null,\n        parent_id: null,\n        source: null,\n        mergeBackward: false\n      })\n    });\n  });\n\n  // Now add annotations\n  annotations.forEach((annotation, i) => {\n    var inside = false;\n    for (var j=annotation.span[0]; j<annotation.span[1]; j++) {\n      spans[j].id = annotation.id;\n      spans[j].relation = annotation.relation;\n      spans[j].parent_id = annotation.parent_id;\n      spans[j].source = annotation.source;\n      if ( inside ) {\n        spans[j].mergeBackward = true;\n      }\n      inside = true;\n    }\n  });\n\n  // Lastly merge spans\n  let out = [];\n  var prevSpan;\n  spans.forEach((span, i) => {\n    if ( span.mergeBackward ) {\n      prevSpan.text = (prevSpan.text + ' ' + span.text);\n    } else {\n      out.push(span);\n      prevSpan = span;\n    }\n  });\n\n  let last = {};\n  spans.forEach((span, i) => {\n    span.idx = i;\n    span.parent_idx = last[span.parent_id];\n    last[span.id] = i;\n  });\n  return out\n}\n\n\nclass StorySpan extends React.Component {\n\n  render () {\n    const { span, onMouseOver, activeIds } = this.props;\n    const { text, source, id, idx } = span;\n\n    const sourceLookup = {\n      \"WIKI\": { color: \"blue\" },\n      \"NEL\": { color: \"green\" },\n      \"COREF\": { color: \"orange\" },\n      \"KG\": { color: \"fuchsia\" }\n    }\n\n    const conditionalClasses = `highlight\n      ${sourceLookup[source].color}\n      ${activeIds && activeIds.includes(idx) ? \"active\" : \"\"}`;\n\n    return (\n      <div className=\"storyspan\">\n        <a href={'https://wikidata.org/wiki/' + id[0]} target='_blank' rel='noopener noreferrer'>\n          <span className={conditionalClasses}\n              onMouseOver={ onMouseOver ? () => { onMouseOver(span) } : null}>\n            <span className=\"highlight__content\">{text}</span>\n            <span className=\"highlight__label\"><strong>{source}</strong></span>\n            <span className=\"highlight__tooltip\">{id[1]}</span>\n          </span>\n        </a>\n      </div>\n    )\n  }\n}\n\n\nclass TopNav extends React.Component {\n  render () {\n    const { next, prev } =  this.props;\n    return (\n      <Navbar fixed=\"top\" bg=\"light\" className=\"d-flex flex-column\">\n          <ButtonGroup>\n            <Button variant=\"outline-secondary\" onClick={prev}>Prev</Button>\n            <Link className=\"btn btn-outline-secondary\" to=\"/\">Home</Link>\n            <Button variant=\"outline-secondary\" onClick={next}>Next</Button>\n          </ButtonGroup>\n      </Navbar>\n    )\n  }\n}\n\n\nclass InfoBox extends React.Component {\n  render () {\n    const { span } = this.props;\n    if ( span ) {\n      return (\n        <Navbar fixed=\"bottom\" bg=\"light\" className=\"bottom-nav\">\n          <Navbar.Brand>Anotation Details</Navbar.Brand>\n          <Navbar.Collapse>\n            <Navbar.Text><b>Parent Ids:</b>{span.parent_id[1]}({span.parent_id[0]})&nbsp;</Navbar.Text>\n            <Navbar.Text><b>Relations:</b>{span.relation[1]}({span.relation[0]})&nbsp;</Navbar.Text>\n            <Navbar.Text><b>Id:</b>{span.id[1]}({span.id[0]})</Navbar.Text>\n          </Navbar.Collapse>\n        </Navbar>\n      )\n    }\n    return null;\n  }\n}\n\n\nclass _Explore extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      activeSpan: null,\n      activeIds: null,\n      activeAnnotationIdx: 0\n    };\n\n    this.handleHover = this.handleHover.bind(this);\n    this.prevCallback = this.prevCallback.bind(this);\n    this.nextCallback = this.nextCallback.bind(this);\n  }\n\n  handleHover(span) {\n    this.setState({\n      activeSpan: span,\n      activeIds: [span.idx, span.parent_idx]\n    });\n  }\n\n  prevCallback() {\n    const { activeAnnotationIdx } = this.state;\n    if (activeAnnotationIdx > 0) {\n      this.setState({ activeAnnotationIdx: activeAnnotationIdx - 1})\n    }\n  }\n\n  nextCallback() {\n    const { activeAnnotationIdx } = this.state;\n    if (activeAnnotationIdx < data.length) {\n      this.setState({ activeAnnotationIdx: activeAnnotationIdx + 1})\n    }\n  }\n\n  render () {\n\n    const { activeSpan, activeIds, activeAnnotationIdx } = this.state;\n\n    // const tokens = responseData && responseData.tokens;\n    // const annotations = responseData && responseData.annotations;\n    const tokens = data[activeAnnotationIdx].tokens;\n    const annotations = data[activeAnnotationIdx].annotations;\n\n    const spanWrapper = (spans) => {\n      return spans.map((span, i) =>\n        span.id ? (\n          <StorySpan key={i} span={span} activeIds={activeIds} onMouseOver={this.handleHover}/>\n        ) : (\n          <span key={i}>{span.text} </span>\n        )\n      );\n    }\n\n    const spans = transform(tokens, annotations);\n    return (\n      <div>\n        <Container>\n        <TopNav prev={this.prevCallback} next={this.nextCallback}/>\n        <HighlightContainer layout=\"bottom-labels\">\n          {spanWrapper(spans)}\n        </HighlightContainer>\n        <InfoBox span={activeSpan} />\n        </Container>\n      </div>\n    )\n  }\n}\n\nconst Explore = withRouter(_Explore);\n\nexport default Explore;\n","import React from 'react';\nimport { HashRouter as Router, Route } from 'react-router-dom';\n\nimport Home from './components/Home';\nimport Explore from './components/Explore';\n\n\nconst App = () => (\n    <Router basename='/'>\n        <Route exact path='/' component={Home} />\n        <Route path='/explore' component={Explore} />\n    </Router>\n)\n\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}